```mdx
---
title: "Project Analysis & Product Management API"
version: "v1.0"
date: "2024-07-29"
framework: "nestjs"
---

# Project Analysis & Product Management API

<Info>
  This documentation provides a comprehensive guide to interacting with the Project Analysis & Product Management API. It covers endpoints for project analysis operations and full CRUD functionality for product resources.
</Info>

This API serves as a backend for managing product data and performing project analysis tasks. It allows for creating, retrieving, updating, and deleting product records, as well as initiating and retrieving the results of project analysis.

## Framework Information

This API is built using **NestJS**, a progressive Node.js framework for building efficient, reliable, and scalable server-side applications.

### NestJS Conventions and Patterns

*   **Controllers**: Handle incoming requests and return responses. They are responsible for defining the API endpoints and delegating business logic to services.
*   **Services**: Encapsulate the business logic and data persistence. Controllers inject services to perform operations.
*   **DTOs (Data Transfer Objects)**: Used to define the shape of data sent over the network, ensuring type safety and validation. For this API, `CreateProductDto` and `UpdateProductDto` are used for product creation and updates, respectively.
*   **Decorators**: NestJS heavily relies on TypeScript decorators (e.g., `@Get()`, `@Post()`, `@Body()`, `@Param()`) to define routes, extract data from requests, and manage dependency injection.
*   **Modules**: Organize the application into feature-specific modules, promoting modularity and scalability.

### Framework-Specific Features

*   **Dependency Injection**: NestJS uses a powerful dependency injection system, making components easy to test and manage.
*   **Validation Pipes**: Often used with DTOs to automatically validate incoming request bodies based on class-validator annotations.
*   **Exception Filters**: Provide a way to catch unhandled exceptions and send appropriate HTTP responses.

<Note>
  The `Request`, `Response`, and `NextFunction` parameters observed in some route handlers are typical for low-level Express integration within NestJS, allowing direct access to the underlying platform objects. For most applications, using NestJS's higher-level decorators (`@Body()`, `@Param()`, `@Query()`, `@Res()`, `@Req()`) is preferred.
</Note>

## Authentication

This API uses **Bearer Token** authentication for securing access to its endpoints.

To authenticate, you must include a valid JWT (JSON Web Token) in the `Authorization` header of your requests.

<Auth type="Bearer" />

### Required Headers

| Header          | Type     | Description                                | Example                           |
| :-------------- | :------- | :----------------------------------------- | :-------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token for authentication. | `Bearer your_jwt_token_here`      |
| `Content-Type`  | `string` | **Required** for requests with a body.     | `application/json`                |

### Permissions

Access to certain endpoints may require specific user roles or permissions, which are typically encoded within the JWT. Consult your system administrator for required roles.

## Endpoint Definition

This section details all available API endpoints.

---

### Analyze Project

Initiates a new project analysis process.

### Endpoint

`GET /api/v1/analyze`

### Request

This endpoint does not require any specific query parameters or a request body.

#### Headers

<Note>
  Authentication is likely required for this endpoint, even if not explicitly stated in the analysis.
</Note>

| Header          | Type     | Description                                | Example                           |
| :-------------- | :------- | :----------------------------------------- | :-------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token for authentication. | `Bearer your_jwt_token_here`      |

### Response

#### Status Codes

*   `200 OK`: Analysis initiated successfully.
*   `401 Unauthorized`: Authentication token is missing or invalid.
*   `500 Internal Server Error`: An unexpected error occurred on the server.

#### Success Response

```json
{
  "message": "Project analysis initiated successfully.",
  "analysisId": "uuid-of-the-analysis-process"
}
```

<ResponseExample status="200">
```json
{
  "message": "Project analysis initiated successfully.",
  "analysisId": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
}
```
</ResponseExample>

#### Error Responses

<ErrorExample status="401">
```json
{
  "statusCode": 401,
  "message": "Unauthorized"
}
```
</ErrorExample>

<ErrorExample status="500">
```json
{
  "statusCode": 500,
  "message": "Internal server error",
  "error": "Something went wrong during analysis initiation."
}
```
</ErrorExample>

---

### Get Analysis Results

Retrieves the results of a previously initiated project analysis.

### Endpoint

`GET /api/v1/analysis-results`

### Request

This endpoint does not require any specific query parameters or a request body. It's assumed the analysis results are globally accessible or tied to the authenticated user.

#### Headers

| Header          | Type     | Description                                | Example                           |
| :-------------- | :------- | :----------------------------------------- | :-------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token for authentication. | `Bearer your_jwt_token_here`      |

### Response

#### Status Codes

*   `200 OK`: Analysis results retrieved successfully.
*   `401 Unauthorized`: Authentication token is missing or invalid.
*   `404 Not Found`: No analysis results found for the current user/context.
*   `500 Internal Server Error`: An unexpected error occurred on the server.

#### Success Response

```json
{
  "analysisId": "uuid-of-the-analysis-process",
  "status": "completed",
  "summary": "Project analysis report...",
  "details": {
    "routesCount": 5,
    "controllersCount": 2,
    "servicesCount": 2,
    "dataModelsCount": 1,
    "framework": "nestjs"
  },
  "generatedAt": "2024-07-29T10:30:00Z"
}
```

<ResponseExample status="200">
```json
{
  "analysisId": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "status": "completed",
  "summary": "Full project scan completed successfully. Detected 5 routes, 2 controllers, and 1 data model.",
  "details": {
    "routesCount": 5,
    "controllersCount": 2,
    "servicesCount": 2,
    "dataModelsCount": 1,
    "framework": "nestjs",
    "warnings": ["Some files were ignored due to access restrictions."]
  },
  "generatedAt": "2024-07-29T10:30:00Z"
}
```
</ResponseExample>

#### Error Responses

<ErrorExample status="401">
```json
{
  "statusCode": 401,
  "message": "Unauthorized"
}
```
</ErrorExample>

<ErrorExample status="404">
```json
{
  "statusCode": 404,
  "message": "No analysis results found.",
  "error": "No completed analysis found for your account."
}
```
</ErrorExample>

---

### Create Product

Creates a new product entry in the system.

### Endpoint

`POST /api/v1/products`

### Request

#### Headers

| Header          | Type     | Description                                | Example                           |
| :-------------- | :------- | :----------------------------------------- | :-------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token for authentication. | `Bearer your_jwt_token_here`      |
| `Content-Type`  | `string` | **Required**. Must be `application/json`.  | `application/json`                |

#### Request Body

The request body should be a JSON object representing the product to be created.

**`CreateProductDto`**

| Field          | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  