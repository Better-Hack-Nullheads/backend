# API Documentation

## Overview
This API provides a robust set of functionalities for managing `Products` and `Users`. It includes endpoints for creating, retrieving, updating, and deleting both resources, as well as specific actions like deactivating/activating users and filtering users by role or email.

## Framework
This API is built with **NestJS**.

## Endpoints

### AppController
Base Path: `/`

*   **GET /**
    *   **Handler**: `getHello`
    *   **Description**: Returns a simple "Hello World" message.
    *   **Parameters**: None

### ProductsController
Base Path: `/products`

*   **POST /**
    *   **Handler**: `create`
    *   **Description**: Creates a new product.
    *   **Parameters**:
        *   `body`: `CreateProductDto` (Required) - Data for the new product.
*   **GET /**
    *   **Handler**: `findAll`
    *   **Description**: Retrieves a list of all products.
    *   **Parameters**: None
*   **GET /:id**
    *   **Handler**: `findOne`
    *   **Description**: Retrieves a single product by its ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the product.
*   **PATCH /:id**
    *   **Handler**: `update`
    *   **Description**: Updates an existing product by its ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the product.
        *   `body`: `UpdateProductDto` (Required) - Data to update the product.
*   **DELETE /:id**
    *   **Handler**: `remove`
    *   **Description**: Deletes a product by its ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the product.

### UsersController
Base Path: `/users`

*   **POST /**
    *   **Handler**: `create`
    *   **Description**: Creates a new user.
    *   **Parameters**:
        *   `body`: `CreateUserDto` (Required) - Data for the new user.
*   **GET /**
    *   **Handler**: `findAll`
    *   **Description**: Retrieves a list of all users.
    *   **Parameters**:
        *   `query`: `role` (string, Optional) - Filters users by their role.
*   **GET /:id**
    *   **Handler**: `findOne`
    *   **Description**: Retrieves a single user by their ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the user.
*   **GET /email/:email**
    *   **Handler**: `findByEmail`
    *   **Description**: Retrieves a single user by their email address.
    *   **Parameters**:
        *   `param`: `email` (string, Required) - The email address of the user.
*   **PATCH /:id**
    *   **Handler**: `update`
    *   **Description**: Updates an existing user by their ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the user.
        *   `body`: `UpdateUserDto` (Required) - Data to update the user.
*   **PATCH /:id/deactivate**
    *   **Handler**: `deactivate`
    *   **Description**: Deactivates a user account by ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the user.
*   **PATCH /:id/activate**
    *   **Handler**: `activate`
    *   **Description**: Activates a user account by ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the user.
*   **DELETE /:id**
    *   **Handler**: `remove`
    *   **Description**: Deletes a user by their ID.
    *   **Parameters**:
        *   `param`: `id` (string, Required) - The ID of the user.

## Services

### AppService
*   **getHello()**: `string`
    *   Returns a simple greeting string.

### ProductsService
*   **create(createProductDto: CreateProductDto)**: `Product`
    *   Creates and persists a new product based on the provided DTO.
*   **findAll()**: `Product[]`
    *   Retrieves all available products.
*   **findOne(id: string)**: `Product | undefined`
    *   Finds a single product by its unique identifier. Returns `undefined` if not found.
*   **update(id: string, updateProductDto: UpdateProductDto)**: `Product | undefined`
    *   Updates an existing product identified by its ID with the provided data. Returns the updated product or `undefined` if not found.
*   **remove(id: string)**: `boolean`
    *   Deletes a product by its unique identifier. Returns `true` if successful, `false` otherwise.

### UsersService
*   **create(createUserDto: CreateUserDto)**: `User`
    *   Creates and persists a new user based on the provided DTO.
*   **findAll()**: `User[]`
    *   Retrieves all available users.
*   **findOne(id: string)**: `User | undefined`
    *   Finds a single user by their unique identifier. Returns `undefined` if not found.
*   **findByEmail(email: string)**: `User | undefined`
    *   Finds a single user by their email address. Returns `undefined` if not found.
*   **findByRole(role: string)**: `User[]`
    *   Finds all users with a specific role.
*   **update(id: string, updateUserDto: UpdateUserDto)**: `User | undefined`
    *   Updates an existing user identified by their ID with the provided data. Returns the updated user or `undefined` if not found.
*   **remove(id: string)**: `boolean`
    *   Deletes a user by their unique identifier. Returns `true` if successful, `false` otherwise.
*   **deactivate(id: string)**: `User | undefined`
    *   Sets the `isActive` status of a user to `false`. Returns the updated user or `undefined` if not found.
*   **activate(id: string)**: `User | undefined`
    *   Sets the `isActive` status of a user to `true`. Returns the updated user or `undefined` if not found.

## Types

### Product (interface)
Represents a product in the system.

*   `id`: `string` (Required) - Unique identifier for the product.
*   `name`: `string` (Required) - Name of the product.
*   `description`: `string` (Optional) - Detailed description of the product.
*   `price`: `number` (Required) - Price of the product.
*   `category`: `string` (Required) - Category the product belongs to.
*   `createdAt`: `Date` (Required) - Timestamp of when the product was created.
*   `updatedAt`: `Date` (Required) - Timestamp of the last update to the product.
*   `deepNestedData`: `object` (Required) - Complex nested data structure.
    ```typescript
    {
        level2: {
          level3: {
            level4: {
              level5: {
                value: string;
                timestamp: Date;
                metadata: {
                  source: string;
                  version: string;
                };
              };
            };
          };
        };
      }
    ```

### User (interface)
Represents a user in the system.

*   `id`: `string` (Required) - Unique identifier for the user.
*   `firstName`: `string` (Required) - User's first name.
*   `lastName`: `string` (Required) - User's last name.
*   `email`: `string` (Required) - User's email address (must be unique).
*   `phone`: `string` (Optional) - User's phone number.
*   `role`: `string` (Optional) - User's role (e.g., 'admin', 'customer').
*   `department`: `string` (Optional) - User's department.
*   `bio`: `string` (Optional) - User's short biography.
*   `isActive`: `boolean` (Required) - Indicates if the user account is active.
*   `createdAt`: `Date` (Required) - Timestamp of when the user account was created.
*   `updatedAt`: `Date` (Required) - Timestamp of the last update to the user account.
*   `profile`: `object` (Required) - Detailed profile information for the user.
    ```typescript
    {
        personal: {
          address: {
            street: string;
            city: string;
            state: string;
            zipCode: string;
            country: string;
          };
          preferences: {
            notifications: {
              email: boolean;
              sms: boolean;
              push: boolean;
            };
            privacy: {
              showEmail: boolean;
              showPhone: boolean;
              showProfile: boolean;
            };
          };
        };
        professional: {
          skills: string[];
          experience: {
            years: number;
            companies: string[];
            achievements: string[];
          };
          certifications: {
            name: string;
            issuer: string;
            date: Date;
            expiry?: Date;
          }[];
        };
      }
    ```