```mdx
---
title: "Project Analysis API"
version: "v1.0"
date: "2024-07-29"
framework: "nestjs"
---

# Project Analysis API

<Info>
  This documentation outlines the RESTful API for managing product data and performing project analysis within a
  TypeScript NestJS application. It covers authentication, endpoint definitions, request/response structures, and code examples.
</Info>

## Overview

The Project Analysis API provides a suite of endpoints to interact with product resources and trigger/retrieve project analysis results. It's designed for seamless integration with modern web applications, offering robust CRUD operations for products and tools for project insights.

<Note>
  This API is built with a focus on developer experience, featuring clear request/response contracts and comprehensive error handling.
</Note>

## Framework Information

This API is built using **NestJS**, a progressive Node.js framework for building efficient, reliable, and scalable server-side applications.

### NestJS Conventions

-   **Controllers**: Handle incoming requests and return responses. They are decorated with `@Controller()` and define routes using decorators like `@Get()`, `@Post()`, `@Patch()`, and `@Delete()`.
-   **Services**: Encapsulate business logic and data manipulation. Controllers inject services to perform operations.
-   **DTOs (Data Transfer Objects)**: Classes used to define the shape of request bodies or response payloads, often validated using `class-validator` and `class-transformer`.
-   **Parameter Decorators**: NestJS uses decorators like `@Param()`, `@Query()`, and `@Body()` to easily extract data from the request object.
-   **Middleware**: Custom middleware can be applied globally, to a controller, or to specific routes to perform tasks like authentication, logging, or data transformation.

<Tip>
  Familiarity with NestJS concepts will aid in understanding the API's internal structure and behavior.
</Tip>

## Authentication

All endpoints in this API require authentication. The API uses a **Bearer Token** authentication scheme.

<Auth type="Bearer" />

To authenticate, you must include a valid JSON Web Token (JWT) in the `Authorization` header of your request.

### Required Header

| Header        | Type   | Description                                 |
| :------------ | :----- | :------------------------------------------ |
| `Authorization` | `string` | **Required**. Bearer token, e.g., `Bearer YOUR_JWT_TOKEN` |

### Permission Roles

Specific endpoints may require certain roles or permissions, which are typically encoded within the JWT. If your token lacks the necessary permissions, a `403 Forbidden` error will be returned.

## Endpoint Definitions

This section details all available API endpoints, their methods, paths, and expected interactions.

---

### 1. Root Endpoint

#### Get Hello World

Returns a simple greeting to confirm the API is running. This is typically used as a health check.

-   **Description**: Confirms the API server is operational.
-   **Business Context**: Essential for monitoring API availability.

```http
GET /
```

#### Request

No parameters, headers, or request body are required for this endpoint.

#### Response

##### Success Response `200 OK`

```json
{
  "message": "Hello World!"
}
```

<ResponseExample status="200">
  This is a basic response indicating the server is alive and responding.
</ResponseExample>

##### Error Response `500 Internal Server Error`

```json
{
  "statusCode": 500,
  "message": "Internal server error"
}
```

<ErrorExample status="500">
  Indicates an unexpected server-side error.
</ErrorExample>

#### Examples / Code Snippets

##### cURL

```bash
curl -X GET \
  http://localhost:3000/ \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

##### JavaScript (Fetch API)

```javascript
fetch('http://localhost:3000/', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN'
  }
})
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
```

---

### 2. Project Analysis Endpoints

#### Get Analyze Project

Initiates a new project analysis process.

-   **Description**: Triggers an asynchronous project analysis task.
-   **Business Context**: Allows users to request a fresh analysis of their codebase.

```http
GET /analyze
```

#### Request

No parameters, headers, or request body are required for this endpoint.

#### Response

##### Success Response `200 OK`

```json
{
  "status": "Analysis initiated",
  "analysisId": "ANL-78901234-abcd-efgh-ijkl-567890abcdef"
}
```

<ResponseExample status="200">
  Returns a confirmation that the analysis has started, along with an `analysisId` for tracking.
</ResponseExample>

##### Error Response `500 Internal Server Error`

```json
{
  "statusCode": 500,
  "message": "Failed to initiate analysis due to an internal server error."
}
```

<ErrorExample status="500">
  Indicates a problem on the server side preventing the analysis from starting.
</ErrorExample>

#### Examples / Code Snippets

##### cURL

```bash
curl -X GET \
  http://localhost:3000/analyze \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

##### JavaScript (Fetch API)

```javascript
fetch('http://localhost:3000/analyze', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN'
  }
})
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
```

---

#### Get Analysis Results

Retrieves the results of all completed project analyses.

-   **Description**: Fetches a list of all project analysis summaries.
-   **Business Context**: Provides an overview of past analyses, allowing users to view historical data.

```http
GET /analysis-results
```

#### Request

No parameters, headers, or request body are required for this endpoint.

#### Response

##### Success Response `200 OK`

```json
[
  {
    "analysisId": "ANL-78901234-abcd-efgh-ijkl-567890abcdef",
    "status": "completed",
    "timestamp": "2024-07-29T10:00:00Z",
    "summary": {
      "totalFiles": 150,
      "totalLines": 12000,
      "issuesFound": 5,
      "criticalIssues": 1
    },
    "detailsLink": "/analysis-results/ANL-78901234-abcd-efgh-ijkl-567890abcdef"
  },
  {
    "analysisId": "ANL