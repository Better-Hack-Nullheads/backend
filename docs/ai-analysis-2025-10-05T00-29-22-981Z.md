---
title: "Project Analysis API Documentation"
version: "v1.0"
date: "2024-07-29"
framework: "nestjs"
---

# Project Analysis API

<Info>
  This documentation details the API endpoints for managing project analysis and product resources. It's designed for developers integrating with the backend service.
</Info>

This API provides functionalities to trigger project analysis, retrieve results, and manage product entities within the system. It follows RESTful principles and leverages the NestJS framework for robust and scalable operations.

## Framework Information

This API is built using **NestJS**, a progressive Node.js framework for building efficient, reliable, and scalable server-side applications.

### Key NestJS Patterns and Conventions

*   **Controllers**: Handle incoming requests and return responses. They define the API endpoints and their HTTP methods.
*   **Services**: Encapsulate business logic and data manipulation. Controllers inject services to perform operations.
*   **DTOs (Data Transfer Objects)**: Define the shape of data being sent over the network (request bodies, response payloads). They leverage TypeScript interfaces or classes with validation decorators.
*   **Decorators**: NestJS heavily uses decorators (`@Controller()`, `@Get()`, `@Post()`, `@Body()`, `@Param()`, etc.) to define metadata and behavior for classes and methods.
*   **Modules**: Organize the application into cohesive blocks of functionality, promoting modularity and maintainability.

### Framework-Specific Features

*   **Dependency Injection**: NestJS uses a powerful dependency injection system, making components easy to test and manage.
*   **Pipes**: Provide a way to transform or validate data at the argument level (e.g., `ValidationPipe`, `ParseIntPipe`).
*   **Guards**: Protect routes by determining if a given request should be handled by the route handler. Often used for authentication and authorization.
*   **Interceptors**: Allow binding extra logic before/after method execution, transforming results, or handling exceptions.

<Note>
  The analysis indicates standard NestJS patterns. For detailed framework usage, refer to the official [NestJS documentation](https://docs.nestjs.com/).
</Note>

## Authentication

This API uses **Bearer Token** authentication for securing access to protected resources. A valid JWT (JSON Web Token) must be included in the `Authorization` header for all authenticated requests.

<Auth type="Bearer" />

### Required Headers

| Header          | Type     | Description                                |
| :-------------- | :------- | :----------------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token, e.g., `Bearer <YOUR_JWT_TOKEN>`. |
| `Content-Type`  | `string` | **Required** for requests with a body. Must be `application/json`. |

### Permission Roles

The analysis does not explicitly define permission roles. It is assumed that all authenticated users have access to the documented endpoints, or role-based access control (RBAC) is managed internally by the application.

## Endpoint Definition

This section outlines all available API endpoints.

### Global Endpoints

*   `GET /` - Retrieves a simple greeting.
*   `GET /analyze` - Triggers a project analysis.
*   `GET /analysis-results` - Retrieves the results of the project analysis.

### Product Management Endpoints

*   `POST /products` - Creates a new product.
*   `GET /products` - Retrieves a list of all products.
*   `GET /products/:id` - Retrieves a single product by its ID.
*   `PATCH /products/:id` - Updates an existing product by its ID.
*   `DELETE /products/:id` - Deletes a product by its ID.

---

## GET /analyze

Retrieves the results of the project analysis. This endpoint is designed to give an overview of the backend project structure.

### Request

This endpoint does not require any query parameters, headers (beyond authentication), or a request body.

**Path Parameters**

None.

**Query Parameters**

None.

**Request Headers**

| Header          | Type     | Description                                |
| :-------------- | :------- | :----------------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token, e.g., `Bearer <YOUR_JWT_TOKEN>`. |

**Example Request**

```bash
GET /analyze
Host: api.example.com
Authorization: Bearer <YOUR_JWT_TOKEN>
```

### Response

#### Success Response

<ResponseExample status="200">
  A successful response returns a JSON object containing the analysis results.
</ResponseExample>

```json
{
  "framework": "nestjs",
  "routesCount": 5,
  "controllersCount": 2,
  "servicesCount": 2,
  "typesCount": 0,
  "details": {
    "controllers": [
      { "name": "AppController", "routes": ["GET /", "GET /analyze", "GET /analysis-results"] },
      { "name": "ProductsController", "routes": ["POST /products", "GET /products", "GET /products/:id", "PATCH /products/:id", "DELETE /products/:id"] }
    ],
    "services": [
      { "name": "AppService", "methods": ["getHello"] },
      { "name": "ProductsService", "methods": ["create", "findAll", "findOne", "update", "remove"] }
    ]
  }
}
```

#### Error Responses

<ErrorExample status="401">
  Unauthorized. Occurs if the authentication token is missing or invalid.
</ErrorExample>

```json
{
  "statusCode": 401,
  "message": "Unauthorized"
}
```

<ErrorExample status="500">
  Internal Server Error. An unexpected error occurred on the server.
</ErrorExample>

```json
{
  "statusCode": 500,
  "message": "Internal server error"
}
```

---

## POST /products

Creates a new product in the system.

### Request

**Path Parameters**

None.

**Query Parameters**

None.

**Request Headers**

| Header          | Type     | Description                                |
| :-------------- | :------- | :----------------------------------------- |
| `Authorization` | `string` | **Required**. Bearer token, e.g., `Bearer <YOUR_JWT_TOKEN>`. |
| `Content-Type`  | `string` | **Required**. Must be `application/json`.  |

**Request Body**

The request body should be a JSON object representing the `CreateProductDto`.

| Field          | Type     | Description                                    | Required |
| :------------- | :------- | :--------------------------------------------- | :------- |
| `name`         | `string` | The name of the product.                       | Yes      |
| `description`  | `string` | A brief description of the product.            | No       |
| `price`        | `number` | The price of the product.                      | Yes      |
| `category`     | `string` | The category the product belongs to.           | Yes      |
| `deepNestedData` | `object` | Complex nested data associated with the product. | Yes      |
| `deepNestedData.level2.level3.level4.level5.value` | `string` | A string value within the deepest level. | Yes |
| `deepNestedData.level2.level3.level4.level5.timestamp` | `string` | ISO 8601 formatted date string. | Yes |
| `deepNestedData.level2.level3.level4.level5.metadata.source` | `string` | Source of the metadata. | Yes |
| `deepNestedData.level2.level3.level4.level5.metadata.version` | `string` | Version of